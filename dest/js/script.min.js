!function n(r,o,h){function c(e,t){if(!o[e]){if(!r[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}var a=o[e]={exports:{}};r[e][0].call(a.exports,function(t){return c(r[e][1][t]||t)},a,a.exports,n,r,o,h)}return o[e].exports}for(var l="function"==typeof require&&require,t=0;t<h.length;t++)c(h[t]);return c}({1:[function(t,e,i){"use strict";var s=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=window.PIXI,r={HoverImg:function(t){for(var e=[].slice.call(t.elm),i=0;i<e.length;i++){var s=e[i].children[0].getAttribute("alt"),a=e[i].children[0].src.replace(t.off,t.on),n=new Image;n.src=a,n.alt=s,n.classList.add(t.on),e[i].appendChild(n),e[i].addEventListener("mouseenter",function(t){t.target.querySelector(".hover").classList.add("active")}),e[i].addEventListener("mouseleave",function(t){t.target.querySelector(".hover").classList.remove("active")})}},Jump:function(t,e){var i=this;this.start=window.pageYOffset,this.opt={duration:e.duration,offset:e.offset||0,callback:e.callback,easing:e.easing||function(t,e,i,s){return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}},this.distance="string"==typeof t?this.opt.offset+document.querySelector(t).getBoundingClientRect().top:t,this.duration="function"==typeof this.opt.duration?this.opt.duration(this.distance):this.opt.duration,this.timeStart=0,this.timeElapsed=0,requestAnimationFrame(function(t){i.timeStart=t,s(t)});var s=function t(e){i.timeElapsed=e-i.timeStart,window.scrollTo(0,i.opt.easing(i.timeElapsed,i.start,i.distance,i.duration)),i.timeElapsed<i.duration?requestAnimationFrame(t):a()},a=function(){window.scrollTo(0,i.start+i.distance),"function"==typeof i.opt.callback&&i.opt.callback()}}},o=function(){function e(t){a(this,e),this.progressBar=void 0!==t?t:"",this.InitPIXI()}return s(e,[{key:"InitPIXI",value:function(){var i=this;n.loader.add("mainBg","img/sample3.jpg").add("sub1Bg","img/sample1.jpg").add("sub2Bg","img/sample2.jpg").add("sub3Bg","img/sample4.jpg").on("progress",function(t,e){i.progressBar.style.width=t.progress+"%"}).load(function(t,e){i.CheckContentSize(),i.app=new n.Application({width:i.contentW,height:i.contentH,antialias:!0}),i.app.renderer.plugins.interaction.autoPreventDefault=!1,i.app.renderer.view.style.touchAction="auto",document.querySelector(".canvasInner").appendChild(i.app.view),document.querySelector(".loading").classList.add("hide"),document.querySelector(".contentWrap").classList.add("loaded"),i.SetObjects(e),i.InitWave(),i.InitMask(),i.SetEvent()})}},{key:"InitWave",value:function(){var e=this,t=Math.floor(this.contentW/2),i=Math.floor(window.innerHeight/2);this.rectPos={lt:{x:t-60,y:i-60},rt:{x:t+60,y:i-60},rb:{x:t+60,y:i+60},lb:{x:t-60,y:i+60}},this.waveArr=[],this.waveArr.push(this.WaveFactory({color:65535,delay:0})),this.waveArr.push(this.WaveFactory({color:1900799,delay:500})),this.waveArr.push(this.WaveFactory({color:16711879,delay:1e3})),this.waveCont=new n.Container,this.waveCont.x=t,this.waveCont.y=i,this.waveCont.pivot.x=t,this.waveCont.pivot.y=i,this.contAlpha=1,this.ticker=new n.ticker.Ticker,this.ticker.fps=60,this.ticker.add(function(){for(var t=0;t<e.waveArr.length;t++)e.DrawWave(e.waveArr[t]),e.waveArr[t].seconds=e.waveArr[t].seconds+.009,e.waveArr[t].t=e.waveArr[t].seconds*Math.PI}),this.mainCont.addChild(this.waveCont),this.ticker.start()}},{key:"WaveFactory",value:function(t){return{graphics:new n.Graphics,unit:30,seconds:0,t:0,alpha:.2,zoom:2.5,color:t.color,delay:t.delay}}},{key:"DrawWave",value:function(t){t.graphics.clear(),t.graphics.beginFill(t.color),t.graphics.alpha=t.alpha,this.DrawSine(t,t.t/.5,t.zoom,t.delay),this.waveCont.addChild(t.graphics)}},{key:"DrawSine",value:function(e,t,i,s){var a=function(t){return e.t+(-t.pt+t.cnt)/e.unit/i},n=function(t){return Math.sin(t-s)/3},r=function(t){return e.unit*t.pt+t.axis},o={x:this.rectPos.lt.x+20,y:r({pt:n(a({pt:this.rectPos.lt.x,cnt:this.rectPos.lt.x})),axis:this.rectPos.lt.y})};e.graphics.moveTo(o.x,o.y);for(var h=o.x,c=this.rectPos.rt.x-30,l=h;l<=c;l+=10){var d={wave:r({pt:n(a({pt:this.rectPos.lt.x,cnt:l})),axis:this.rectPos.lt.y}),axis:l};l===h&&(o.y=d.wave),e.graphics.lineTo(d.axis,d.wave)}h=this.rectPos.rt.y+30,c=this.rectPos.rb.y-30;for(var u=h;u<=c;u+=10){var p={wave:r({pt:n(a({pt:this.rectPos.rt.y,cnt:u})),axis:this.rectPos.rt.x}),axis:u};u===h&&e.graphics.quadraticCurveTo(this.rectPos.rt.x,this.rectPos.rt.y,p.wave,p.axis),e.graphics.lineTo(p.wave,p.axis)}h=this.rectPos.rb.x-30,c=this.rectPos.lb.x+30;for(var v=h;c<=v;v-=10){var g={wave:r({pt:n(a({pt:this.rectPos.rb.x,cnt:v})),axis:this.rectPos.rb.y}),axis:v};v===h&&e.graphics.quadraticCurveTo(this.rectPos.rb.x,this.rectPos.rb.y,g.axis,g.wave),e.graphics.lineTo(g.axis,g.wave)}h=this.rectPos.lb.y-30,c=this.rectPos.lt.y+30;for(var w=h;c<=w;w-=10){var f={wave:r({pt:n(a({pt:this.rectPos.lb.y,cnt:w})),axis:this.rectPos.lb.x}),axis:w};w===h&&e.graphics.quadraticCurveTo(this.rectPos.lb.x,this.rectPos.lb.y,f.wave,f.axis),e.graphics.lineTo(f.wave,f.axis),w<=c&&e.graphics.quadraticCurveTo(this.rectPos.lt.x,this.rectPos.lt.y,o.x,o.y)}this.waveCont.addChild(e.graphics)}},{key:"CheckContentSize",value:function(){this.contentW=window.innerWidth,this.contentH=screen.height}},{key:"SetObjects",value:function(t){this.mainCont=new n.Container,this.mainBgOrg=t.mainBg.texture,this.mainBg=new n.Sprite(t.mainBg.texture),this.sub1BgOrg=t.sub1Bg.texture,this.sub1Bg=new n.Sprite(t.sub1Bg.texture),this.mainCont.addChild(this.mainBg),this.app.stage.addChild(this.mainCont,this.sub1Bg),this.InitImgs()}},{key:"InitImgs",value:function(){var t=this.ImgSizeAdjustor(this.mainBgOrg),e=this.ImgSizeAdjustor(this.sub1BgOrg);this.mainBg.width=t.width,this.mainBg.height=t.height,this.mainBg.x=this.app.renderer.width/2,this.mainBg.y=this.contentH-t.height,this.mainBg.anchor.x=.5,this.mainBg.anchor.y=0,this.sub1Bg.width=e.width,this.sub1Bg.height=e.height,this.sub1Bg.x=this.app.renderer.width/2,this.sub1Bg.y=this.contentH-e.height,this.sub1Bg.anchor.x=.5,this.sub1Bg.anchor.y=0}},{key:"InitMask",value:function(){this.maskCont=new n.Container,this.mask=new n.Graphics,this.mask.beginFill(15158332),this.mask.drawCircle(this.contentW/2,this.contentH/2,40),this.mask.endFill(),this.mask.alpha=0,this.mask.x=0,this.mask.y=0,this.maskCont.x=this.contentW/2,this.maskCont.y=window.innerHeight/2,this.maskCont.pivot.x=this.contentW/2,this.maskCont.pivot.y=this.contentH/2,this.destScale=this.destStartScale=this.maskCont.scale.x,this.dest2Scale=this.dest2StartScale=this.waveCont.scale.x,this.sub1Bg.mask=this.mask,this.maskCont.addChild(this.mask),this.app.stage.addChild(this.maskCont)}},{key:"SetEvent",value:function(){var i=this;window.addEventListener("resize",function(){i.CheckContentSize(),console.log({ch:i.contentH,wh:window.innerHeight,sh:screen.height}),i.app.renderer.resize(i.contentW,i.contentH),i.InitImgs()}),window.addEventListener("scroll",function(t){if(0<window.pageYOffset){var e=1-window.pageYOffset/1e3;i.contAlpha=e<0?0:e}else i.contAlpha=1;0<i.contAlpha&&(i.destScale=window.pageYOffset/300+i.destStartScale,i.dest2Scale=window.pageYOffset/300+i.dest2StartScale)}),this.app.ticker.add(function(){i.maskCont.scale.x+=.15*(i.destScale-i.maskCont.scale.x),i.maskCont.scale.y+=.15*(i.destScale-i.maskCont.scale.y),i.waveCont.scale.x+=.15*(i.dest2Scale-i.waveCont.scale.x),i.waveCont.scale.y+=.15*(i.dest2Scale-i.waveCont.scale.y),i.waveCont.alpha+=.15*(i.contAlpha-i.waveCont.alpha),i.maskCont.alpha+=.15*(i.contAlpha-i.maskCont.alpha),i.contAlpha<=0&&(i.destScale=25)})}},{key:"ImgSizeAdjustor",value:function(t){var e=this.contentH/t.height,i=t.width*e,s=this.contentH;return i<this.contentW&&(e=this.contentW/t.width,i=this.contentW,s=t.height*e),{width:i,height:s}}}]),e}(),h=function(){function e(t){a(this,e),this.args=void 0!==t?t:{},this.progressBar=void 0!==t.progressBar?t.progressBar:"",this.hoverArgs=void 0!==this.args.hoverArgs?this.args.hoverArgs:"",this.Init()}return s(e,[{key:"Init",value:function(){new o(this.progressBar)}},{key:"SetEvent",value:function(){for(var t=[].slice.call(document.querySelectorAll(".smooth")),e=0;e<t.length;e++)t[e].addEventListener("click",function(t){var e=t.currentTarget.dataset.hash;r.Jump(e,{duration:500})})}}]),e}();window.addEventListener("DOMContentLoaded",function(){new h({hoverArgs:{elm:document.querySelectorAll(".imgHover"),off:"default",on:"hover"},progressBar:document.querySelector(".loading .bar > div")})})},{}]},{},[1]);